# hyperland

>hyperland
<https://www.vindo.cn/blog/hyprland-arch-linux>
<https://lixuannan.github.io/posts/34336.html>
<https://cascade.moe/posts/hyprland-configure/>

å‚è€ƒdotfiles config
<https://github.com/kmephistoh/dotfiles/tree/main/config>
<https://github.com/Isoheptane/dotfiles/tree/blog-example>
<https://github.com/theniceboy/.config/tree/master>
<https://github.com/Fireond/dotfiles/tree/main>

## Hyprland

```zsh
sudo pacman -S hyperland
mkdir -p ~/.config/hypr/
nano ~/.config/hypr/hyprland.conf
autogenerated = 1 # ç§»é™¤åˆå§‹è­¦å‘Š
exec-once hyprpaper
```

## polkit-kde-agent: å›¾å½¢åŒ–æƒé™éªŒè¯ä»£ç†

ç£ç›˜æŒ‚è½½ï¼šå½“ç”¨æˆ·å°è¯•æŒ‚è½½å¤–éƒ¨å­˜å‚¨è®¾å¤‡æ—¶ï¼Œç³»ç»Ÿä¼šé€šè¿‡ Polkit-KDE-Agent è¯·æ±‚ç”¨æˆ·è¾“å…¥å¯†ç ã€‚

ç½‘ç»œç®¡ç†ï¼šåœ¨ä½¿ç”¨ NetworkManager åˆ‡æ¢ Wi-Fi æˆ–ç§»åŠ¨ç½‘ç»œæ—¶ï¼Œå¯èƒ½éœ€è¦é€šè¿‡ Polkit è¿›è¡Œæƒé™éªŒè¯ã€‚

ç³»ç»Ÿæ“ä½œï¼šå¦‚å…³æœºã€é‡å¯ã€æŒ‚èµ·ç­‰æ“ä½œï¼Œå°¤å…¶æ˜¯åœ¨å¤šç”¨æˆ·ç¯å¢ƒä¸­ã€‚

```zsh
sudo pacman -S polkit-kde-agent
```

## wofi: è½»é‡é«˜æ•ˆçš„ç¨‹åºå¯åŠ¨å™¨ã€‚ä¸º Wayland åŸç”Ÿè®¾è®¡çš„ï¼Œå…¼å®¹æ€§æ›´å¥½

```zsh
sudo pacman -S wofi
nano ~/.config/wofi/config
```

```json
show=drun
width=900
height=600
always_parse_args=true
show_all=false
insensitive=true
allow_images=true
normal_window=true
allow_markup=true
prompt= ğŸ‘launcher modeğŸ¤”
```

```zsh
nano ~/.config/wofi/style.css
```

```css
/* Macchiato Rosewater */
@define-color accent #f4dbd6;
@define-color txt #cad3f5;
@define-color bg #24273a;
@define-color bg2 #494d64;

 * {
    font-family: 'JetBrains Mono Nerd Font', monospace;
    font-size: 14px;
 }

 /* Window */
 window {
    margin: 0px;
    padding: 10px;
    /* border: 3px solid @accent; */
    /* border-radius: 7px; */
    background-color: @bg;
    animation: slideIn 0.5s ease-in-out both;
 }

 /* Slide In */
 @keyframes slideIn {
    0% {
       opacity: 0;
    }

    100% {
       opacity: 1;
    }
 }

 /* Inner Box */
 #inner-box {
    margin: 5px;
    padding: 10px;
    border: none;
    background-color: @bg;
    animation: fadeIn 0.5s ease-in-out both;
 }

 /* Fade In */
 @keyframes fadeIn {
    0% {
       opacity: 0;
    }

    100% {
       opacity: 1;
    }
 }

 /* Outer Box */
 #outer-box {
    margin: 5px;
    padding: 10px;
    border: none;
    background-color: @bg;
 }

 /* Scroll */
 #scroll {
    margin: 0px;
    padding: 10px;
    border: none;
 }

 /* Input */
 #input {
    margin: 5px;
    padding: 10px;
    border: none;
    color: @accent;
    background-color: @bg2;
    animation: fadeIn 0.5s ease-in-out both;
 }

 /* Text */
 #text {
    margin: 5px;
    padding: 10px;
    border: none;
    color: @txt;
    animation: fadeIn 0.5s ease-in-out both;
 }

 /* Selected Entry */
 #entry:selected {
   background-color: @accent;
 }

 #entry:selected #text {
    color: @bg;
 }
```

## mako: Wayland é€šçŸ¥å®ˆæŠ¤ç¨‹åº

```zsh
sudo pacman -S mako
nano ~/.config/mako/config # å…ˆåˆ›å»ºé…ç½®æ–‡ä»¶ï¼Œä¸‹é¢æ˜¯æˆ‘çš„é…ç½®ï¼Œå¤åˆ¶æ³¨æ„å»æ‰æ³¨é‡Š
sort=-time # æŒ‰æ—¶é—´æ’åº
layer=overlay # é€šçŸ¥å±‚å åœ¨çª—å£ä¹‹ä¸Š
background-color=#2e34407f # èƒŒæ™¯é¢œè‰²
width=350
height=120
border-size=3
border-color=#99c0d0
border-radius=12
icons=1 # æ˜¾ç¤ºå›¾æ ‡
max-icon-size=64
default-timeout=5000
ignore-timeout=0
font="Noto Sans CJK SC" 11
margin=12
padding=12,20
[urgency=low]
border-color=#cccccc
[urgency=normal]
border-color=#99c0d0
[urgency=critical]
border-color=#bf616a
default-timeout=0

makoctl reload # é‡è½½é…ç½®æ–‡ä»¶
notify-send 'Hello world!' 'This is an example notification.' -u normal # æµ‹è¯•
```

## hyprpaper

```zsh
sudo pacman -S hyprpaper
hyprctl monitors # è¿è¡Œä»¥ä¸‹å‘½ä»¤ä»¥è·å–æ˜¾ç¤ºå™¨åç§°
nano ~/.config/hypr/hyprpaper.conf # åˆ›å»ºé…ç½®æ–‡ä»¶
preload = <å£çº¸è·¯å¾„> # é¢„åŠ è½½å£çº¸
# wallpaper = <æ˜¾ç¤ºå™¨åç§°>, <å£çº¸è·¯å¾„>
wallpaper = Virtual-1, /home/xxx/Pictures/wallpaper.png
```

## kitty hyperlandé»˜è®¤çš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨

```zsh
sudo pacman -S kitty
kitty +kitten themes # é€‰æ‹©ä¸»é¢˜
Catppuccin-Mocha # æˆ‘é€‰æ‹©è¿™ä¸ªï¼Œæ ¹æ®å¼•å¯¼é…ç½®ï¼ŒæŒ‰Mä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œé…ç½®æ–‡ä»¶åœ¨~/.config/kitty/kitty.conf æ²¡æœ‰å°±æ–°å»º
# å¿«æ·é”® ctrl+shift+F5 ç«‹å³åº”ç”¨é…ç½®æ–‡ä»¶
```

> ä»¥ä¸‹æ˜¯æˆ‘çš„é…ç½®æ–‡ä»¶

```zsh
# ä½¿ç”¨ Catppuccin-Mocha æ·±è‰²ä¸»é¢˜
# BEGIN_KITTY_THEME
# Catppuccin-Mocha
include current-theme.conf
# END_KITTY_THEME

# ========================
# å­—ä½“è®¾ç½®éƒ¨åˆ†
# ========================
font_size 11.0
font_family JetBrainsMono Nerd Font Mono  
bold_font auto
italic_font auto
bold_italic_font auto

# åªåœ¨å…‰æ ‡ä½ç½®ç¦ç”¨è¿å­—ï¼ˆé¿å…å…‰æ ‡é”™ä½ï¼‰
disable_ligatures cursor  
# è¿å­—ç¤ºä¾‹ï¼š!=æ˜¾ç¤ºä¸ºâ‰ ï¼Œ->æ˜¾ç¤ºä¸ºâ†’ï¼Œä½†å…‰æ ‡å¤„ä¿æŒåŸæ ·

# ========================
# çª—å£å¤–è§‚è®¾ç½®
# ========================
# åªæ˜¾ç¤ºæ ‡é¢˜æ ï¼Œéšè—å…¶ä»–çª—å£è£…é¥°
hide_window_decorations titlebar-only
# å†…å®¹è·ç¦»çª—å£è¾¹ç¼˜çš„å†…è¾¹è·
window_padding_width 15
# èƒŒæ™¯é€æ˜åº¦ï¼ˆ0=å…¨é€æ˜ï¼Œ1=ä¸é€æ˜ï¼‰
background_opacity 0.8
# åŠ¨æ€è°ƒæ•´é€æ˜åº¦ï¼ˆçª—å£å¤±ç„¦æ—¶æ›´é€æ˜ï¼‰
dynamic_background_opacity yes
# èƒŒæ™¯æ¨¡ç³Šç¨‹åº¦20
background_blur 20

# è®°ä½ä¸Šæ¬¡å…³é—­æ—¶çš„çª—å£å¤§å°
remember_window_size yes
# åˆå§‹çª—å£
initial_window_width 1000 
initial_window_height 600

# ========================
# é€‰ä¸­å³å¤åˆ¶åŠŸèƒ½
# ========================
# å¯ç”¨é€‰ä¸­æ–‡æœ¬è‡ªåŠ¨å¤åˆ¶
copy_on_select yes
# å¤åˆ¶åˆ°ç³»ç»Ÿå‰ªè´´æ¿
copy_on_select clipboard
# ç²˜è´´å¤§æ–‡æœ¬æ—¶éœ€ç¡®è®¤ï¼ˆé˜²æ­¢è¯¯æ“ä½œï¼‰
paste_actions confirm-if-large
# å®Œæ•´å‰ªè´´æ¿æ§åˆ¶ï¼šå¯è¯»å†™ç³»ç»Ÿå’Œé€‰æ‹©ç¼“å†²åŒº
clipboard_control write-clipboard write-primary read-clipboard read-primary


# ========================
# æ ‡ç­¾æ å¢å¼ºè®¾ç½®
# ========================
# æ ‡ç­¾æ ä½äºçª—å£é¡¶éƒ¨
tab_bar_edge top
# ä½¿ç”¨Powerlineé£æ ¼
tab_bar_style powerline
# Powerlineæ ·å¼ä¸ºæ–œè§’ï¼ˆ45åº¦è§’æ›´ç¾è§‚ï¼‰
tab_powerline_style slanted
# æ ‡ç­¾æ ‡é¢˜åªæ˜¾ç¤ºç¨‹åºå
tab_title_template "{title}"
# å½“å‰æ´»åŠ¨æ ‡ç­¾æ˜¾ç¤ºï¼šé€šçŸ¥å›¾æ ‡+æ´»åŠ¨æŒ‡ç¤º+[åºå·:æ ‡é¢˜]
active_tab_title_template "{bell}{activity}[{index}: {title}]"

# ========================
# æ€§èƒ½ä¼˜åŒ–è®¾ç½®
# ========================
# é‡ç»˜å»¶è¿Ÿ10æ¯«ç§’ï¼ˆå¹³è¡¡æµç•…åº¦å’Œæ€§èƒ½ï¼‰
repaint_delay 10  
# è¾“å…¥å»¶è¿Ÿ2æ¯«ç§’ï¼ˆé”®ç›˜å“åº”é€Ÿåº¦ï¼‰
input_delay 2
# ä¸æ˜¾ç¤ºå™¨åˆ·æ–°ç‡åŒæ­¥ï¼ˆå‡å°‘æ’•è£‚ï¼‰
sync_to_monitor yes
# ä¿ç•™10000è¡Œå†å²è®°å½•ï¼ˆå¯æ»šåŠ¨æŸ¥çœ‹ï¼‰
scrollback_lines 10000

# ========================
# å®ç”¨å¿«æ·é”®è®¾ç½®
# ========================
# æ–°å»ºæ ‡ç­¾é¡µ
map ctrl+shift+t new_tab
# å…³é—­å½“å‰æ ‡ç­¾é¡µ
map ctrl+shift+w close_tab
# ä¸‹ä¸€ä¸ªæ ‡ç­¾
map ctrl+shift+] next_tab
# ä¸Šä¸€ä¸ªæ ‡ç­¾
map ctrl+shift+[ previous_tab
# æ–°å»ºçª—å£
map ctrl+shift+enter new_window
# åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ª Kitty çª—å£
map ctrl+shift+j next_window
# åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ª Kitty çª—å£
map ctrl+shift+k previous_window
# å­—ä½“æ”¾å¤§
map ctrl+shift+equal change_font_size all +2.0
# å­—ä½“ç¼©å°
map ctrl+shift+minus change_font_size all -2.0

# ========================
# URLå’Œé¼ æ ‡è¡Œä¸º
# ========================
# è‡ªåŠ¨æ£€æµ‹å¹¶é«˜äº®æ˜¾ç¤ºURLé“¾æ¥
detect_urls yes
# URLæ˜¾ç¤ºæ ·å¼ä¸ºèŠ±æ‹¬å·åŒ…å›´
url_style curly
# ä½¿ç”¨é»˜è®¤æµè§ˆå™¨æ‰“å¼€é“¾æ¥
open_url_with default
# è®¾ç½®æ–‡ä»¶è·¯å¾„çš„æ‰“å¼€è¡Œä¸º
url_prefixes file ftp ftps http https
# è‡ªå®šä¹‰æ–‡ä»¶è·¯å¾„ç‚¹å‡»è¡Œä¸º
map ctrl+click open_url_with default
```

## waybar çŠ¶æ€æ 

<https://lixuannan.github.io/posts/42208.html>
<https://github.com/Alexays/Waybar/wiki/Module:-Custom>

```zsh
sudo pacman -S waybar
nano ~/.config/hypr/hyprland.conf
exec-once waybar # æ·»åŠ 

nano ~/.config/waybar/config # ä¿®æ”¹é…ç½®æ–‡ä»¶
```

```json
{
    "layer": "top",
    "position": "top", 
    "height": 40, 
    "spacing": 6,
    "modules-left": ["custom/appmenu", "wlr/taskbar"],
    "modules-center": ["wlr/workspaces","clock", "hyprland/window"],
    "modules-right": ["tray", "network", "pulseaudio", "memory", "cpu"],
    "custom/appmenu": {
         "format": "Menu {icon}",
         "format-icon": "ó°»€",
         "rotate": 0,
         "on-click": "~/.config/waybar/runwofi.sh"
    },
    "wlr/taskbar": {
         "format": "{icon}",
         "tooltip": true,
         "tooltip-format": "{title}",
         "on-click": "activate",
         "on-click-middle": "close",
         "active-first": true
    },
    "wlr/workspaces": {
        "format": "{icon}",
        "sort-by-number": true,
        "on-click": "activate",
        "on-scroll-up": "hyprctl dispatch workspace e+1",
        "on-scroll-down": "hyprctl dispatch workspace e-1"
    },
    "hyprland/window": {
        "format": "\uf061 {}",
        "separate-outputs": true
    },
    "tray": {
        "icon-size": 21,
        "spacing": 10
    },
    "clock": {
        "interval": 1,
        "format": "\uf017 {:%H:%M:%S}",
        "format-alt": "\uf133 {:%Y-%m-%d %H:%M:%S}"
    },
    "cpu": {
        "interval": 1,
        "format": "ï‹› {usage}%",
        "tooltip": false
    },
    "memory": {
        "interval": 1,
        "format": "ïƒ‰ {used}G",
        "tooltip": false
    },
    "network": {
        "interval": 1,
        "format-wifi": "ï‡« {essid} ({signalStrength}%)",
        "format-ethernet": "\uf796 {bandwidthUpBits} {bandwidthDownBits}",
        "format-linked": "ï– {ifname} (No IP)",
        "format-disconnected": "âš  Disconnected",
        "tooltip-format": "ï– {ifname} {ipaddr}/{cidr} via {gwaddr}",
        "format-alt": "{ifname}: {ipaddr}/{cidr}"
    },
    "pulseaudio": {
        "scroll-step": 5,
        "format": "{icon} {volume}%",
        "format-muted": "ïš©",
        "format-bluetooth": "{icon}ïŠ” {volume}%",
        "format-bluetooth-muted": "ïš© {icon}ïŠ”",
        "format-icons": {
            "headphone": "ï€¥",
            "hands-free": "ï–",
            "headset": "ï–",
            "phone": "ï‚•",
            "portable": "ï‚•",
            "car": "ï†¹",
            "default": ["ï€¦", "ï€§", "ï€¨"]
        },
        "on-click-right": "pavucontrol"
    }
}
```

```zsh
nano runwofi.sh
#!/bin/bash
wofi --show drun
chmod +x ~/.config/waybar/runwofi.sh

nano ~/.config/waybar/style.css
```

```css
* {
    /* `otf-font-awesome` is required to be installed for icons */
    font-family: "Fira Mono";
    font-weight: 500;
    font-size: 18px;

    border-radius: 10px;
    text-shadow: none;
    
    transition-property: background;
    transition-duration: 0.2s;
}
window#waybar {
    background-color: transparent;
}
window#waybar.hidden {
    opacity: 0.2;
}

#workspaces {
 margin-top: 6px;
 background: rgba(16, 20, 24, 0.5);
 transition: none;

    font-size: 12px;
}

#workspaces button {
    border: none;
    padding: 0 10px;
    background-color: transparent;
    color: #ffffff;
}

#workspaces button:hover {
    background: rgba(255, 255, 255, 0.5);
}

#workspaces button.active {
    background: #fff9bb;
    color: #000000;
}

#workspaces button.active:hover {
    background: #fffcdf;
}

#workspaces button.urgent {
    background-color: #eb4d4b;
}

#mode {
    background-color: #64727D;
    border-bottom: 3px solid #ffffff;
}

#clock,
#cpu,
#memory,
#network,
#pulseaudio,
#tray,
#mode,
#window {
    margin-top: 6px;
    padding: 0 12px;
    color: #ffffff;
}

/* If workspaces is the leftmost module, omit left margin */
.modules-left > widget:first-child > * {
    margin-left: 16px;
}

/* If workspaces is the rightmost module, omit right margin */
.modules-right > widget:last-child > * {
    margin-right: 16px;
}

#clock {
    background-color: #eefff1;
    color: #000000;
}

#cpu {
    background-color: #FE968B;
    color: #000000;
}

#memory {
    background-color: #FFEAAA;
    color: #000000;
}

#pulseaudio {
    background-color: #b0f5e5;
    color: #000000;
}

#network {
    background-color: #87ddff;
    color: #000000;
}

#tray {
    background-color: rgba(16, 20, 24, 0.5);
}

#window {
    font-family: 'Fira Mono', 'Noto Sans CJK SC', sans-serif;
    font-weight: 400;
    background-color: #cbecff;
    color: #000000;
}
```
